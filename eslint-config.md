# ESLint çš„å„ç§é…ç½®

## å…¨å±€é…ç½®

### é…ç½®æ–‡ä»¶

`.eslintrc`ã€`.eslintrc.js`ã€`.eslintrc.json`ã€`.eslintrc.yml`ç­‰ç­‰

è¿™ä¹ˆå¤šæ€ä¹ˆé…ç½®ï¼Œåˆ°åº•ç”¨å“ªä¸ªï¼Ÿ

åŸæ¥æ¥è‡ª[cosmiconfig](https://www.npmjs.com/package/cosmiconfig)

### package.json é…ç½®

```json
{
  "eslint": { ... }
}
```

### æ–‡ä»¶å¤¹ä¸­çš„å±€éƒ¨å…¨å±€é…ç½®

æ¯”å¦‚åœ¨å…¨å±€ä¸­ï¼Œç¦ç”¨äº†`console`ï¼Œä½†åœ¨æµ‹è¯•ç¯å¢ƒï¼Œä»ç„¶æ—¶å¸¸éœ€è¦`console.log`ï¼Œåˆ™åœ¨é˜²æ­¢æµ‹è¯•æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚`__tests__`ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªé…ç½®

ä¾‹å¦‚`__tests__/.eslintrc`

```json
{
  "rules": {
    "no-console": 0
  }
}
```

å°±å¯ä»¥åšåˆ°è¯¥è§„åˆ™ä»…åœ¨è¯¥æ–‡ä»¶å¤¹å†…ç”Ÿæ•ˆ

### æ€»é…ç½®ä¸­çš„è¦†ç›–é…ç½®

å¦‚æœåªæƒ³æŸäº›è§„åˆ™åªé’ˆå¯¹æŸäº›ç‰¹å®šæ–‡ä»¶å‘¢ï¼Ÿ

æ¯”å¦‚åœ¨ä¸€äº›`nodejs`ä¸­è¿è¡Œçš„è„šæœ¬ï¼Œéœ€è¦ç”¨`require`è¯­æ³•ï¼Œä¸èƒ½ç”¨æºç ä¸­çš„`import`è¯­æ³•

```json
"overrides": [
    {
      "files": ["script/*.js"],
      "rules": {
        "@typescript-eslint/no-var-requires": 0
      }
    }
  ]
```

### å¿½ç•¥é…ç½®

å¦‚åŒ`.gitignore`ä¸€æ ·ï¼Œä¹Ÿæœ‰`.eslintignore`ï¼Œå…¶è§„åˆ™ä¸gitçš„ä¸€æ ·ï¼Œä»¥æ–‡ä»¶ä¸æ–‡ä»¶å¤¹ä¸ºå•ä½è¿›è¡Œå¿½ç•¥ã€‚

é…ç½®æ”¯æŒ`glob`è§„åˆ™ä¾‹å¦‚

```txt
.eslintrc.js
service/*.js
```

## å±€éƒ¨é…ç½®

æŸä¸ªæ–‡ä»¶é‡Œåªæœ‰ä¸€å¤„æƒ³è·³è¿‡è§„åˆ™ï¼Ÿå¥½æˆ‘æ”¹ä¸€ä¸‹å…¨å±€é…ç½®ã€‚

ä½†è¿™æ ·åšä¼šä½¿è¯¥ä¸€äº›è§„åˆ™åœ¨æ•´ä½“é¡¹ç›®ä¸­éƒ½å¤±çµï¼Œå¦‚æœæœ‰`code-review`ï¼Œå®¹æ˜“è¢«åŒäº‹dissğŸ™ˆ

### åœ¨å½“å‰æ–‡ä»¶ç”Ÿæ•ˆ

åœ¨å½“å‰æ–‡ä»¶é¡¶éƒ¨ï¼Œä½¿ç”¨æ³¨é‡Š

```ecmascript
/* eslint-disable */
```

ç®€å•ç²—æš´ï¼Œä½†æœ‰æ•ˆã€‚

é—®é¢˜å°±æ˜¯å½“å‰æ–‡ä»¶æ‰€æœ‰è§„åˆ™éƒ½ä¸çµäº†ï¼Œè‡ªåŠ¨ç¾åŒ–ä»£ç ä¹Ÿæ²¡å•¦ã€‚

æ‰€ä»¥æ·»åŠ åœ¨åé¢è¦åŠ ä¸Šå…·ä½“çš„è§„åˆ™ï¼Œä½¿å…¶ä»–è§„åˆ™ä»ç„¶ç”Ÿæ•ˆï¼Œå¤šä¸ªè§„åˆ™ç”¨é€—å·åˆ†éš”ã€‚

```ecmascript
/* eslint-disable no-console,no-debugger */
```

### ä»…åœ¨ä¸‹ä¸€è¡Œç”Ÿæ•ˆ

```ecmascript
/* eslint-disable-next-line */
```

åŒæ ·çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯ä¼šç¦ç”¨ä¸‹ä¸€è¡Œçš„æ‰€æœ‰æ£€æŸ¥è§„åˆ™ï¼Œä½¿è‡ªåŠ¨æ ¼å¼åŒ–å¤±æ•ˆã€‚

æœ€å¥½è¿˜æ˜¯åŠ ä¸Šå…·ä½“è§„åˆ™ï¼Œå¤šä¸ªè§„åˆ™ç”¨é€—å·åˆ†éš”

```ecmascript
/* eslint-disable-next-line no-console,no-debugger */
```

### å¤šè¡Œç”Ÿæ•ˆ

```ecmascript
/* eslint-disable */
console.log(xxx)
console.log(yyy)
/* eslint-enable */
```

åŒæ ·æ¨èæŒ‡å®šå…·ä½“è§„åˆ™ï¼Œå¤šä¸ªè§„åˆ™ç”¨é€—å·åˆ†éš”

```ecmascript
/* eslint-disable no-console */
console.log(xxx)
/* eslint-enable no-console */
```

<!-- 
ç”¨å¿ƒè®¡è¾ƒèˆ¬èˆ¬é”™ï¼Œé€€åæ€é‡äº‹äº‹å®½ã€‚
ä¹¦åˆ°ç”¨æ—¶æ–¹æ¨å°‘ï¼Œäº‹ä¸ç»è¿‡ä¸çŸ¥éš¾ã€‚
-->
